{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '44811983-8684438ea32399a5b651fd4bf';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n  const response = await fetch(url);\n  if (!response.ok) {\n    throw new Error('Failed to fetch images');\n  }\n  const data = await response.json();\n  return data.hits;\n}\n\n","// import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nexport function renderImages(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = images\n    .map(\n      image => `\n        <a href=\"${image.largeImageURL}\" class=\"image-card\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n       \n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes</b> ${image.likes}\n          </p>\n          <p class=\"info-item\">\n            <b>Views</b> ${image.views}\n          </p>\n          <p class=\"info-item\">\n            <b>Comments</b> ${image.comments}\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads</b> ${image.downloads}\n          </p>\n        </div>\n        \n      </a>\n    `\n    )\n    .join('');\n\n  \n}\n\nexport function showLoader() {\n  const loader = document.createElement('div');\n  loader.classList.add('loader');\n  loader.innerHTML =\n    '<div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>';\n  document.body.appendChild(loader);\n  console.log('Loader shown');\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.lds-ring');\n  if (loader) {\n    loader.remove();\n    console.log('Loader hidden');\n  } else {\n    console.log('No loader found to hide');\n  }\n}\n\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderImages, showLoader, hideLoader } from './js/render-functions.js';\n\ndocument.querySelector(\".form\").addEventListener('submit', function (event) {\n  event.preventDefault();\n  const searchInput = document.querySelector('input[name=\"delay\"]');\n  const searchQuery = searchInput.value.trim();\n\n  if (searchQuery === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Search query cannot be empty!',\n    });\n    return;\n  }\n\n  showLoader();\n\n  fetchImages(searchQuery)\n    .then(images => {\n      const gallery = document.querySelector('.gallery');\n      gallery.innerHTML = '';\n      if (images.length === 0) {\n        iziToast.warning({\n          title: 'No Results',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n        hideLoader();\n        return;\n      }\n      renderImages(images);\n      const lightbox = new SimpleLightbox('.gallery a');\n      lightbox.refresh();\n      iziToast.success({\n        title: 'Success',\n        message: `✅ Found ${images.length} images for \"${searchQuery}\"`,\n      });\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: `❌ ${error.message}`,\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n\n  searchInput.value = ''; \n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","renderImages","images","gallery","image","showLoader","loader","hideLoader","event","searchInput","searchQuery","iziToast","SimpleLightbox","error"],"mappings":"wvBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAC1CG,CACD,CAAA,2DACKE,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAG1C,OADa,MAAMA,EAAS,QAChB,IACd,CCXO,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYD,EACjB,IACCE,GAAS;AAAA,mBACIA,EAAM,aAAa;AAAA,oBAClBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,2BAI/BA,EAAM,KAAK;AAAA;AAAA;AAAA,2BAGXA,EAAM,KAAK;AAAA;AAAA;AAAA,8BAGRA,EAAM,QAAQ;AAAA;AAAA;AAAA,+BAGbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAMzC,EACA,KAAK,EAAE,CAGZ,CAEO,SAASC,GAAa,CAC3B,MAAMC,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAU,IAAI,QAAQ,EAC7BA,EAAO,UACL,2EACF,SAAS,KAAK,YAAYA,CAAM,EAChC,QAAQ,IAAI,cAAc,CAC5B,CAEO,SAASC,GAAa,CAC3B,MAAMD,EAAS,SAAS,cAAc,WAAW,EAC7CA,GACFA,EAAO,OAAM,EACb,QAAQ,IAAI,eAAe,GAE3B,QAAQ,IAAI,yBAAyB,CAEzC,CC3CA,SAAS,cAAc,OAAO,EAAE,iBAAiB,SAAU,SAAUE,EAAO,CAC1EA,EAAM,eAAc,EACpB,MAAMC,EAAc,SAAS,cAAc,qBAAqB,EAC1DC,EAAcD,EAAY,MAAM,KAAI,EAE1C,GAAIC,IAAgB,GAAI,CACtBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACf,CAAK,EACD,MACD,CAEDN,IAEAR,EAAYa,CAAW,EACpB,KAAKR,GAAU,CACd,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjD,GADAA,EAAQ,UAAY,GAChBD,EAAO,SAAW,EAAG,CACvBS,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,0EACnB,CAAS,EACDJ,IACA,MACD,CACDN,EAAaC,CAAM,EACF,IAAIU,EAAe,YAAY,EACvC,QAAO,EAChBD,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,WAAWT,EAAO,MAAM,gBAAgBQ,CAAW,GACpE,CAAO,CACP,CAAK,EACA,MAAMG,GAAS,CACdF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,KAAKE,EAAM,OAAO,EACnC,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbN,GACN,CAAK,EAEHE,EAAY,MAAQ,EACtB,CAAC"}